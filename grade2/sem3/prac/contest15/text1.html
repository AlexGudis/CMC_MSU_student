<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
<title>Problem statement</title>
</head>
<body>
<h3>Problem mz15-1: mz15-1</h3><p>
Программе в аргументах командной строки задаются:
</p>
<ul>
<li>Количество процессов (nproc) (1 &lt;= nproc &lt;= 400);</li>
<li>Ключ IPC (key);</li>
<li>Максимальное значение (maxval) (32-битное знаковое целое положительное значение).</li>
</ul>
<p>
Программа должна создать nproc процессов и запустить между ними пересылку числа.
Процессы нумеруются от 1 до nproc. Процесс-родитель имеет номер 0.
Каждый процесс получает число, печатает свой порядковый номер, значение числа, и номер процесса-отправителя как показано в примере.
Затем процесс увеличивает его на 1 и пересылает число процессу с номером (val * val * val * val) % nproc + 1, где val – значение числа после увеличения.
Если значение числа после увеличения стало больше <tt>maxval</tt>, процесс не пересылает число следующему, а (совместно с родителем) выполняет действия по завершению игры.
Игра начинается с первого из созданных процессов со значения 0. Отец дожидается завершения всех процессов и сам завершает работу.
</p>
<p>Обратите внимание, при достижении максимального значения
оно печатается, но не пересылается дальше.</p>

<p>Можете использовать следующие варианты создания процессов
и синхронизации:</p>

<ul>
  <li>Процессы, SysV семафоры (sys/sem), SysV разделяемая память (sys/shm).</li>
  <li>Процессы, SysV семафоры, mmap.</li>
  <li>Процессы, eventfd, mmap.</li>
  <li>Процессы, POSIX semaphore, mmap.</li>
  <li>Нити, mutex, condvar.</li>
</ul>

<p>Второй аргумент командной строки не используется, если программа
не использует SysV IPC.</p>

<p>Другие варианты использовать запрещено.</p>

<p>Объекты, созданные для работы программы, например, массив семафоров,
должны быть уничтожены.</p>

<p>Тестирование завершается с вердиктом 'Synchronization error',
если процесс-отец (то есть ваша программа, запускаемая на тестирование)
заканчивает работу раньше какого-либо из своих потомков.</p>

<p>Тестирование завершается с вердиктом 'Security violation',
если после завершения работы вашей программы остались неудаленные
объекты IPC.</p>
<h3>Examples</h3><h4>Input</h4>
<pre></pre>
<h4>Output</h4>
<pre>1 0 0
2 1 1
1 2 2
2 3 1
1 4 2</pre>

</body>
</html>
